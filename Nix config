{ config, pkgs, ... }:

{
  # Import hardware configuration (auto-generated by the installer)
  imports = [
    ./hardware-configuration.nix
  ];

  # System state version (adjust to your installed NixOS version)
  system.stateVersion = "23.05";

  # Basic system settings
  networking.hostName = "nixos"; # Replace with your desired hostname

  # Enable NetworkManager (manages DHCP and networking)
  networking.networkmanager.enable = true;
  networking.useDHCP = lib.mkForce false; # Disable manual DHCP to avoid conflict

  # Enable GNOME desktop environment
  services.xserver.enable = true;
  services.xserver.displayManager.gdm.enable = true; # GNOME Display Manager
  services.xserver.desktopManager.gnome.enable = true;

  # Sound and audio
  sound.enable = true;
  hardware.pulseaudio.enable = true;

  # Timezone and localization
  time.timeZone = "Etc/UTC"; # Replace with your local timezone
  i18n.defaultLocale = "en_US.UTF-8";

  # User configuration
  users.users.alimussa = {
    isNormalUser = true;
    extraGroups = [ "wheel" "audio" "video" "input" ]; # Add to essential groups
  };

  # System packages
  environment.systemPackages = with pkgs; [
    vim
    git
    wget
    curl
    firefox
    alacritty # Optional terminal
  ];

  # Enable GRUB bootloader
  boot.loader.grub.enable = true;
  boot.loader.grub.version = 2;
  boot.loader.grub.devices = [ "/dev/sda" ]; # Replace with your actual boot disk
}
